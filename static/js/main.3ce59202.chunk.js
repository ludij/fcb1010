(this.webpackJsonpfcb1010=this.webpackJsonpfcb1010||[]).push([[0],{31:function(e,n,t){},35:function(e,n,t){},36:function(e,n,t){"use strict";t.r(n);var a,o,r,i,c,l,s,d,b,h,u,p,g,f=t(1),j=t.n(f),O=t(24),m=t.n(O),v=(t(31),t(5)),x=t(21),w=t(19),C=t(2),y=t(10),A=t(8),D=t(4),k=t(26),I=Object(k.a)("div")(a||(a=Object(v.a)(["\n  label: led;\n  background-color: ",";\n  width: 10px;\n  height: 10px;\n  border-radius: 100%;\n  border: 2px solid #fff;\n  box-shadow: ",";\n"])),(function(e){return e.isActive?"#ff0000":"#600"}),(function(e){return e.isActive?"0 0 5px 2px #ff0000":"none"})),P=t(0),M=function(e){var n=e.label,t=e.data,a=e.isActive,i=e.toggleFootswitch,c=Object(f.useState)(!1),l=Object(A.a)(c,2),s=l[0],d=l[1],b=function(){d(!s)},h=parseInt(n)-1,u=function(){i&&i(h)},p=Object(D.a)(o||(o=Object(v.a)(["\n    label: footswitch;\n    grid-area: ",";\n    position: relative;\n    border: 1px solid #ccc;\n    text-align: center;\n    padding: 10px;\n    background-color: ",";\n    color: #fff;\n    font-weight: bold;\n    border-radius: 10px;\n    transform: ",";\n    transition: background-color 0.2s;\n\n    p {\n      margin: 0;\n    }\n\n    small {\n      font-weight: normal;\n      word-break: break-word;\n    }\n  "])),"footswitch"+n,s?"#222":"#000",s?"scale(0.98)":"none"),g=Object(D.a)(r||(r=Object(v.a)(["\n    label: footswitch__toggle;\n    position: absolute;\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n    height: 50%;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    padding: 10px;\n    background-color: rgba(255, 255, 255, 0.25);\n    cursor: pointer;\n    font-weight: normal;\n    font-size: 14px;\n    user-select: none;\n    -webkit-tap-highlight-color: transparent;\n  "])));return Object(P.b)("div",{css:p,children:[t?Object(P.a)(I,{isActive:!!a}):null,Object(P.a)("p",{children:n}),Object(P.a)("div",{css:g,onMouseDown:function(){u(),b()},onTouchStart:function(){u(),b()},onMouseUp:t&&"toggle"===t.mode?b:function(){u(),b()},onTouchEnd:function(){u(),b()},onContextMenu:function(e){e.preventDefault()},children:t&&t.mode})]})},V=function(e){var n=e.label,t=Object(f.useRef)(null),a=Object(f.useRef)(null),o=Object(f.useState)({width:"100%",height:"100%"}),r=Object(A.a)(o,2),s=r[0],d=r[1],b=Object(f.useState)(!1),h=Object(A.a)(b,2),u=h[0],p=h[1],g=function(){return p(!u)};Object(f.useEffect)((function(){var e=t.current?t.current.offsetHeight+"px":"100%",n=t.current?t.current.offsetWidth+"px":"100%";d({height:n,width:e})}),[]);var j=Object(D.a)(i||(i=Object(v.a)(["\n    label: expression-pedal;\n    border: 1px solid #ccc;\n    grid-area: expressionPedal",";\n    text-align: center;\n    background-color: ",";\n    color: #fff;\n    font-weight: bold;\n    border-radius: 10px;\n    transform: ",";\n    transition: background-color 0.2s;\n    position: relative;\n    padding: 10px 10px 10px calc(50% + 10px);\n\n    p {\n      margin: 0;\n    }\n\n    small {\n      font-weight: normal;\n      word-break: break-word;\n    }\n  "])),n,u?"#222":"#000",u?"scale(0.98)":"none"),O=Object(D.a)(c||(c=Object(v.a)(['\n    label: expression-pedal__slider-container;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    height: 100%;\n    width: 50%;\n    padding: 10px;\n    background-color: rgba(255, 255, 255, 0.25);\n    font-weight: normal;\n    font-size: 14px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    label {\n      position: absolute;\n      bottom: 10px;\n      user-select: none;\n    }\n\n    input[type="range"]::-webkit-slider-thumb,\n    input[type="range"]::-moz-range-thumb,\n    input[type="range"]::-ms-thumb {\n      box-shadow: none;\n      appearance: none;\n      height: 300px;\n      width: 2px;\n      background: #fff;\n      border: none;\n    }\n  ']))),m=Object(D.a)(l||(l=Object(v.a)(["\n    label: expression-pedal__slider;\n    cursor: pointer;\n    flex: 0 0 calc("," - 4px);\n    height: ",";\n    transform: rotate(-90deg);\n    appearance: none;\n    margin: 0;\n    background: transparent;\n    -webkit-tap-highlight-color: transparent;\n    margin: 0;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n\n    &::-webkit-slider-thumb,\n    &::-moz-range-thumb,\n    &::-ms-thumb {\n      box-shadow: none;\n      appearance: none;\n      height: 300px;\n      width: 2px;\n      background: #fff;\n      border: none;\n    }\n  "])),s.width,s.height);return Object(P.b)("div",{css:j,children:[Object(P.a)("p",{children:n}),Object(P.b)("div",{css:O,onMouseDown:g,onTouchStart:g,onMouseUp:g,onTouchEnd:g,onContextMenu:function(e){e.preventDefault()},ref:t,children:[Object(P.a)("label",{htmlFor:"slide",children:"slide"}),Object(P.a)("input",{css:m,name:"slide",type:"range",min:"0",max:"127",ref:a})]})]})},B=function(e){var n=e.data,t=e.updateData,a=e.isVisible,o=void 0!==a&&a,r=e.toggleVisibility,i=Object(D.a)(s||(s=Object(v.a)(["\n    label: modal;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    background-color: #fff;\n    transform: ",";\n    opacity: ",";\n    overflow: auto;\n\n    table {\n      border-collapse: collapse;\n      margin: 0 auto;\n    }\n\n    tbody > tr:nth-of-type(odd) {\n      background-color: #eee;\n    }\n\n    th,\n    td {\n      border: 1px solid black;\n      text-align: left;\n      padding: 5px;\n      vertical-align: top;\n    }\n\n    label {\n      display: block;\n    }\n\n    ol {\n      margin: 0;\n      padding-left: 20px;\n    }\n  "])),o?"none":"translateY(-100%)",o?"1":"0");return Object(P.b)("div",{css:i,children:[Object(P.a)("button",{type:"button",onClick:r,children:"stop editing"}),Object(P.b)("table",{children:[Object(P.a)("thead",{children:Object(P.b)("tr",{children:[Object(P.a)("th",{}),Object(P.a)("th",{children:"Label"}),Object(P.a)("th",{children:"Mode"}),Object(P.a)("th",{children:"Program Change"}),Object(P.a)("th",{children:"Control Change"}),Object(P.a)("th",{children:"Note"}),Object(P.a)("th",{children:"Expression Pedal A"}),Object(P.a)("th",{children:"Expression Pedal B"})]})}),Object(P.a)("tbody",{children:n.map((function(e,n){return Object(P.b)("tr",{children:[Object(P.a)("td",{children:n+1}),Object(P.a)("td",{children:Object(P.b)("label",{children:[Object(P.a)("input",{type:"text",value:e.label,onChange:function(e){var a={newValue:e.target.value,pedalsDataIndex:n,pedalsDataKey:"label"};t(a)}}),"Label"]})}),Object(P.b)("td",{children:[Object(P.b)("label",{children:[Object(P.a)("input",{type:"radio",name:"mode"+n,value:"toggle",checked:"toggle"===e.mode,onChange:function(e){var a={newValue:e.target.value,pedalsDataIndex:n,pedalsDataKey:"mode"};t(a)}}),"Toggle"]}),Object(P.b)("label",{children:[Object(P.a)("input",{type:"radio",name:"mode"+n,value:"press",checked:"press"===e.mode,onChange:function(e){var a={newValue:e.target.value,pedalsDataIndex:n,pedalsDataKey:"mode"};t(a)}}),"Press"]})]}),Object(P.a)("td",{children:Object(P.a)("ol",{children:e.programChange.map((function(a,o){return Object(P.b)("li",{children:[Object(P.b)("label",{children:[Object(P.a)("input",{type:"checkbox",checked:a.isActive,onChange:function(a){var r=Object(y.a)(e.programChange);r[o]=Object(C.a)(Object(C.a)({},r[o]),{},{isActive:a.target.checked}),t({newValue:r,pedalsDataIndex:n,pedalsDataKey:"programChange"})}}),"Active"]}),Object(P.b)("label",{children:[Object(P.a)("input",{type:"number",value:a.programChange,min:"0",max:"127",onChange:function(a){var r=Object(y.a)(e.programChange);r[o]=Object(C.a)(Object(C.a)({},r[o]),{},{programChange:parseInt(a.target.value)}),t({newValue:r,pedalsDataIndex:n,pedalsDataKey:"programChange"})}}),"Number"]})]},"programchange"+o)}))})}),Object(P.a)("td",{children:Object(P.a)("ol",{children:e.controlChange.map((function(a,o){return Object(P.b)("li",{children:[Object(P.b)("label",{children:[Object(P.a)("input",{type:"checkbox",checked:a.isActive,onChange:function(a){var r=Object(y.a)(e.controlChange);r[o]=Object(C.a)(Object(C.a)({},r[o]),{},{isActive:a.target.checked}),t({newValue:r,pedalsDataIndex:n,pedalsDataKey:"controlChange"})}}),"Active"]}),Object(P.b)("label",{children:[Object(P.a)("input",{type:"number",value:a.controlChange,min:"0",max:"127",onChange:function(a){var r=Object(y.a)(e.controlChange);r[o]=Object(C.a)(Object(C.a)({},r[o]),{},{controlChange:parseInt(a.target.value)}),t({newValue:r,pedalsDataIndex:n,pedalsDataKey:"controlChange"})}}),"Number"]}),Object(P.b)("label",{children:[Object(P.a)("input",{type:"number",value:a.on,min:"0",max:"127",onChange:function(a){var r=Object(y.a)(e.controlChange);r[o]=Object(C.a)(Object(C.a)({},r[o]),{},{on:parseInt(a.target.value)}),t({newValue:r,pedalsDataIndex:n,pedalsDataKey:"controlChange"})}}),"Value"]})]},"controlchange"+o)}))})}),Object(P.b)("td",{children:[Object(P.b)("label",{children:[Object(P.a)("input",{type:"checkbox",checked:e.note.isActive,onChange:function(a){var o=Object(C.a)(Object(C.a)({},e.note),{},{isActive:a.target.checked});t({newValue:o,pedalsDataIndex:n,pedalsDataKey:"note"})}}),"Active"]}),Object(P.b)("label",{children:[Object(P.a)("input",{type:"number",value:e.note.note,min:"0",max:"127",onChange:function(a){var o=Object(C.a)(Object(C.a)({},e.note),{},{note:parseInt(a.target.value)});t({newValue:o,pedalsDataIndex:n,pedalsDataKey:"note"})}}),"Number"]})]}),Object(P.b)("td",{children:[Object(P.b)("label",{children:[Object(P.a)("input",{type:"checkbox",checked:e.expressionPedalA.isActive,onChange:function(a){var o=Object(C.a)(Object(C.a)({},e.expressionPedalA),{},{isActive:a.target.checked});t({newValue:o,pedalsDataIndex:n,pedalsDataKey:"expressionPedalA"})}}),"Active"]}),Object(P.b)("label",{children:[Object(P.a)("input",{type:"number",value:e.expressionPedalA.controlChange,min:"0",max:"127",onChange:function(a){var o=Object(C.a)(Object(C.a)({},e.expressionPedalA),{},{controlChange:parseInt(a.target.value)});t({newValue:o,pedalsDataIndex:n,pedalsDataKey:"expressionPedalA"})}}),"Control Change Number"]}),Object(P.b)("label",{children:[Object(P.a)("input",{type:"number",value:e.expressionPedalA.off,min:"0",max:"127",onChange:function(a){var o=Object(C.a)(Object(C.a)({},e.expressionPedalA),{},{off:parseInt(a.target.value)});t({newValue:o,pedalsDataIndex:n,pedalsDataKey:"expressionPedalA"})}}),"Minimum Value"]}),Object(P.b)("label",{children:[Object(P.a)("input",{type:"number",value:e.expressionPedalA.on,min:"0",max:"127",onChange:function(a){var o=Object(C.a)(Object(C.a)({},e.expressionPedalA),{},{on:parseInt(a.target.value)});t({newValue:o,pedalsDataIndex:n,pedalsDataKey:"expressionPedalA"})}}),"Maximum Value"]})]}),Object(P.b)("td",{children:[Object(P.b)("label",{children:[Object(P.a)("input",{type:"checkbox",checked:e.expressionPedalB.isActive,onChange:function(a){var o=Object(C.a)(Object(C.a)({},e.expressionPedalB),{},{isActive:a.target.checked});t({newValue:o,pedalsDataIndex:n,pedalsDataKey:"expressionPedalB"})}}),"Active"]}),Object(P.b)("label",{children:[Object(P.a)("input",{type:"number",value:e.expressionPedalB.controlChange,min:"0",max:"127",onChange:function(a){var o=Object(C.a)(Object(C.a)({},e.expressionPedalB),{},{controlChange:parseInt(a.target.value)});t({newValue:o,pedalsDataIndex:n,pedalsDataKey:"expressionPedalB"})}}),"Control Change Number"]}),Object(P.b)("label",{children:[Object(P.a)("input",{type:"number",value:e.expressionPedalB.off,min:"0",max:"127",onChange:function(a){var o=Object(C.a)(Object(C.a)({},e.expressionPedalB),{},{off:parseInt(a.target.value)});t({newValue:o,pedalsDataIndex:n,pedalsDataKey:"expressionPedalB"})}}),"Minimum Value"]}),Object(P.b)("label",{children:[Object(P.a)("input",{type:"number",value:e.expressionPedalB.on,min:"0",max:"127",onChange:function(a){var o=Object(C.a)(Object(C.a)({},e.expressionPedalB),{},{on:parseInt(a.target.value)});t({newValue:o,pedalsDataIndex:n,pedalsDataKey:"expressionPedalB"})}}),"Maximum Value"]})]})]},"tablerow"+n)}))})]})]})},K=(t(35),{label:"",mode:"press",isActive:!1,programChange:[{isActive:!1,programChange:0},{isActive:!1,programChange:0},{isActive:!1,programChange:0},{isActive:!1,programChange:0},{isActive:!1,programChange:0}],controlChange:[{isActive:!1,controlChange:0,off:0,on:0},{isActive:!1,controlChange:0,off:0,on:0}],note:{isActive:!1,note:0},expressionPedalA:{isActive:!1,controlChange:0,off:0,on:0},expressionPedalB:{isActive:!1,controlChange:0,off:0,on:0}}),S=Array.from({length:10},(function(){return K})).map((function(e,n){var t=Object(C.a)({},e);return t.label=1===n?"Test label":e.label,t.mode=n%3?"toggle":"press",t.programChange=2===n?[{isActive:!0,programChange:1},{isActive:!1,programChange:0},{isActive:!1,programChange:0},{isActive:!1,programChange:0},{isActive:!1,programChange:0}]:e.programChange,t.controlChange=[{isActive:!0,controlChange:n,off:0,on:127},{isActive:!1,controlChange:0,off:0,on:0}],t.note={isActive:!0,note:55+n},t})),F=t(25),T=new function e(){var n=this;Object(F.a)(this,e),this.inputs=null,this.outputs=null,this.inputKeys=void 0,this.initWasSuccessful=void 0,this.messages=void 0,this.midiChannel=0,this.init=function(){return navigator.requestMIDIAccess({sysex:!0}).then(n.onSuccess,n.onFailure)},this.onSuccess=function(e){n.inputs=e.inputs||null,n.outputs=e.outputs||null,n.setMidiChannel(1);return!0},this.onFailure=function(){console.log("Could not access your MIDI devices.");return!1},this.setMidiChannel=function(e){n.midiChannel=e},this.sendMidiMessage=function(e,t,a){if(n.outputs){var o=n.outputs.values().next().value,r=parseInt(n.messages[e]+n.midiChannel),i="programChange"===e?[r,t]:[r,t,a];o.send(i)}},this.initWasSuccessful=!1,this.inputKeys={a:0,s:1,d:2,f:3,g:4,w:5,e:6,r:7,t:8,y:9,j:"down",u:"up",i:"aUp",k:"aDown",o:"bUp",l:"bDown"},this.messages={noteOff:"0x8",noteOn:"0x9",controlChange:"0xb",programChange:"0xc"}};"requestMIDIAccess"in navigator?(p=T.init(),g=!0):(p=!1,g=!1);var E=function(e){var n=e.pedals,t=void 0===n?S:n,a=Object(f.useState)(t),o=Object(A.a)(a,2),r=o[0],i=o[1],c=Object(f.useState)(!1),l=Object(A.a)(c,2),s=l[0],j=l[1],O=function(){return j(!s)},m=Object(f.useState)(r.filter((function(e){return e.isActive})).map((function(e){return r.indexOf(e)}))),k=Object(A.a)(m,2),I=k[0],K=k[1],F=function(e){if(I.includes(e))return K(I.filter((function(n){return n!==e}))),void E(e);K([].concat(Object(y.a)(I),[e])),p&&E(e,!0)},E=function(e,n){var t=r[e].controlChange.filter((function(e){return e.isActive})).map((function(e){return{controlChange:e.controlChange,on:e.on,off:e.off}})),a=r[e].note.isActive?r[e].note.note:void 0;if(n){var o,i=r[e].programChange.filter((function(e){return e.isActive})).map((function(e){return e.programChange})),c=Object(x.a)(i);try{for(c.s();!(o=c.n()).done;){var l=o.value;T.sendMidiMessage("programChange",l,0)}}catch(g){c.e(g)}finally{c.f()}var s,d=Object(x.a)(t);try{for(d.s();!(s=d.n()).done;){var b=s.value;T.sendMidiMessage("controlChange",b.controlChange,b.on)}}catch(g){d.e(g)}finally{d.f()}a&&T.sendMidiMessage("noteOn",a,127)}else{var h,u=Object(x.a)(t);try{for(u.s();!(h=u.n()).done;){var p=h.value;T.sendMidiMessage("controlChange",p.controlChange,p.off)}}catch(g){u.e(g)}finally{u.f()}a&&T.sendMidiMessage("noteOff",a,127)}},N=Object(D.a)(d||(d=Object(v.a)(['\n    label: container;\n    display: grid;\n    padding: 5px;\n    grid-template-columns: repeat(18, calc((100vh - 10px) / 18));\n    grid-template-rows: 0.5fr 1fr 1fr;\n    gap: 5px 0px;\n    grid-template-areas:\n      ". header header header header header header header header header header header header header header header header header"\n      ". footswitch6 . footswitch7 . footswitch8 . footswitch9 . footswitch10 . footswitchUp . expressionPedalA expressionPedalA . expressionPedalB expressionPedalB"\n      "footswitch1 . footswitch2 . footswitch3 . footswitch4 . footswitch5 . . footswitchDown . expressionPedalA expressionPedalA . expressionPedalB expressionPedalB";\n    background-color: #eee;\n    height: 100vw;\n    overflow: hidden;\n\n    @media (min-width: 568px) {\n      grid-template-columns: repeat(18, calc((100vw - 10px) / 18));\n      height: 100vh;\n      width: 100vw;\n    }\n\n    @media (min-width: 1024px) {\n      max-height: 40vw;\n    }\n  ']))),U=Object(D.a)(b||(b=Object(v.a)(["\n    label: header;\n    padding: 10px;\n    grid-area: header;\n  "]))),_=Object(D.a)(h||(h=Object(v.a)(["\n    color: ",";\n  "])),p?"green":"red"),W=Object(D.a)(u||(u=Object(v.a)(["\n    color: red;\n  "]))),z=Array.from(Array(10).keys());return Object(P.b)("div",{css:N,children:[Object(P.b)("div",{css:U,children:[Object(P.a)("h1",{children:"FCB1010"}),Object(P.b)("p",{css:_,children:["MIDI ",p?"":"dis","connected"]}),Object(P.a)("p",{css:W,children:p?null:g?"Please allow your browser to use MIDI":"Your browser doesn't support MIDI, please use Chrome"}),Object(P.a)("button",{type:"button",onClick:O,children:"edit MIDI values"})]}),z.map((function(e){return Object(P.a)(M,{label:(e+1).toString(),data:r[e],isActive:I.includes(e),toggleFootswitch:F},"footswitch"+e)})),Object(P.a)(M,{label:"Up"}),Object(P.a)(M,{label:"Down"}),Object(P.a)(V,{label:"A"}),Object(P.a)(V,{label:"B"}),Object(P.a)(B,{data:r,updateData:function(e){var n=e.newValue,t=e.pedalsDataIndex,a=e.pedalsDataKey,o=Object(y.a)(r);o[t]=Object(C.a)(Object(C.a)({},o[t]),{},Object(w.a)({},a,n)),i(o)},isVisible:s,toggleVisibility:O})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,37)).then((function(n){var t=n.getCLS,a=n.getFID,o=n.getFCP,r=n.getLCP,i=n.getTTFB;t(e),a(e),o(e),r(e),i(e)}))},U=t(9);m.a.render(Object(U.jsx)(j.a.StrictMode,{children:Object(U.jsx)(E,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),N()}},[[36,1,2]]]);
//# sourceMappingURL=main.3ce59202.chunk.js.map